(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),o=t.n(l),c=t(12),i=t(9),s=t(16),m=t(29),u="https://ollacart-website.herokuapp.com/api",d=function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(u,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))},p=function(){return"undefined"!==typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},h=(t(56),function(){return"undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0}),E=t(156),f=t(14),b=t(160),g=t(161),y=t(158),v=t(122),j=t(159),O=t(168),S=t(166),k=t(71),w=t.n(k),N=t(52),C=t.n(N),x=t(58),D=t.n(x),B=t(59),I=t.n(B),T=t(43),R=t.n(T),W=t(60),z=t.n(W),F=t(61),P=t.n(F),A=t(62),J=t.n(A),L=t(70),M=t.n(L),G=function(e,a){return e.location.pathname===a?{color:"#ff9900",textDecoration:"none"}:{color:"#ffffff",textDecoration:"none"}},H=Object(E.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(m.a)({},e.breakpoints.up("sm"),{display:"block"}),search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(f.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(m.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(m.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})),_=Object(i.g)((function(e){var a=e.history,t=H(),l=r.a.useState(null),o=Object(s.a)(l,2),i=o[0],m=o[1],u=r.a.useState(null),E=Object(s.a)(u,2),f=E[0],k=E[1],N=Boolean(i),x=Boolean(f),B=function(){k(null)},T=function(){m(null),B()},W=r.a.createElement(S.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:N,onClose:T},r.a.createElement(O.a,{onClick:T},"Profile"),r.a.createElement(O.a,{onClick:T},"My account")),F=r.a.createElement(S.a,{anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:x,onClose:B},r.a.createElement("div",{style:{backgroundColor:"#404040"}},r.a.createElement(O.a,null,r.a.createElement(c.b,{style:G(a,"/"),to:"/"},r.a.createElement(y.a,{"aria-label":"Home",color:"inherit"},r.a.createElement(D.a,null)),"Home")),r.a.createElement(O.a,null,r.a.createElement(c.b,{style:G(a,"/shop"),to:"/shop"},r.a.createElement(y.a,{"aria-label":"Shop",color:"inherit"},r.a.createElement(I.a,null)),"Shop")),r.a.createElement(O.a,null,r.a.createElement(c.b,{style:G(a,"/cart"),to:"/cart"},r.a.createElement(y.a,{"aria-label":"Cart",color:"inherit"},r.a.createElement(j.a,{badgeContent:h(),color:"secondary"},r.a.createElement(C.a,null))),"Cart")),p()&&0===p().user.role&&r.a.createElement(O.a,null,r.a.createElement(c.b,{style:G(a,"/user/dashboard"),to:"/user/dashboard"},r.a.createElement(y.a,{"aria-label":"Dashboard",color:"inherit"},r.a.createElement(R.a,null)),"Dashboard")),p()&&1===p().user.role&&r.a.createElement(O.a,null,r.a.createElement(c.b,{style:G(a,"/admin/dashboard"),to:"/admin/dashboard"},r.a.createElement(y.a,{"aria-label":"Dashboard",color:"inherit"},r.a.createElement(R.a,null)),"Dashboard")),!p()&&r.a.createElement(n.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(c.b,{style:G(a,"/signin"),to:"/signin"},r.a.createElement(y.a,{"aria-label":"Signin",color:"inherit"},r.a.createElement(z.a,null)),"Signin")),r.a.createElement(O.a,null,r.a.createElement(c.b,{style:G(a,"/signup"),to:"/signup"},r.a.createElement(y.a,{"aria-label":"Signup",color:"inherit"},r.a.createElement(P.a,null)),"Signup"))),p()&&r.a.createElement(O.a,null,r.a.createElement("span",{style:{cursor:"pointer",color:"#ffffff"},onClick:function(){return d((function(){a.push("/")}))}},r.a.createElement(y.a,{"aria-label":"Signout",color:"inherit"},r.a.createElement(J.a,null)),"Signout"))));return r.a.createElement("div",{className:t.grow},r.a.createElement(b.a,{position:"fixed"},r.a.createElement(g.a,null,r.a.createElement("a",{href:"/",style:{color:"#ffffff"}},r.a.createElement(y.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"brand"},r.a.createElement(M.a,null))),r.a.createElement("a",{href:"/",style:{color:"#ffffff",textDecoration:"none"}},r.a.createElement(v.a,{className:t.title,variant:"h6",noWrap:!0},"OLLACART")),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(c.b,{style:G(a,"/"),to:"/"},r.a.createElement(y.a,{"aria-label":"Home",color:"inherit"},r.a.createElement(D.a,null),r.a.createElement(v.a,{noWrap:!0},"Home"))),r.a.createElement(c.b,{style:G(a,"/shop"),to:"/shop"},r.a.createElement(y.a,{"aria-label":"Shop",color:"inherit"},r.a.createElement(I.a,null),r.a.createElement(v.a,{noWrap:!0},"Shop"))),r.a.createElement(c.b,{style:G(a,"/cart"),to:"/cart"},r.a.createElement(y.a,{"aria-label":"Cart",color:"inherit"},r.a.createElement(j.a,{badgeContent:h(),color:"secondary"},r.a.createElement(C.a,null)),r.a.createElement(v.a,{noWrap:!0},"Cart"))),p()&&0===p().user.role&&r.a.createElement(c.b,{style:G(a,"/user/dashboard"),to:"/user/dashboard"},r.a.createElement(y.a,{"aria-label":"Dashboard",color:"inherit"},r.a.createElement(R.a,null),r.a.createElement(v.a,{noWrap:!0},"Dashboard"))),p()&&1===p().user.role&&r.a.createElement(c.b,{style:G(a,"/admin/dashboard"),to:"/admin/dashboard"},r.a.createElement(y.a,{"aria-label":"Dashboard",color:"inherit"},r.a.createElement(R.a,null),r.a.createElement(v.a,{noWrap:!0},"Dashboard"))),!p()&&r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{style:G(a,"/signin"),to:"/signin"},r.a.createElement(y.a,{"aria-label":"Signin",color:"inherit"},r.a.createElement(z.a,null),r.a.createElement(v.a,{noWrap:!0},"Signin"))),r.a.createElement(c.b,{style:G(a,"/signup"),to:"/signup"},r.a.createElement(y.a,{"aria-label":"Signup",color:"inherit"},r.a.createElement(P.a,null),r.a.createElement(v.a,{noWrap:!0},"Signup")))),p()&&r.a.createElement("span",{style:{cursor:"pointer",color:"#ffffff"},onClick:function(){return d((function(){a.push("/")}))}},r.a.createElement(y.a,{"aria-label":"Signout",color:"inherit"},r.a.createElement(J.a,null),r.a.createElement(v.a,{noWrap:!0},"Signout")))),r.a.createElement("div",{className:t.sectionMobile},r.a.createElement(y.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){k(e.currentTarget)},color:"inherit"},r.a.createElement(w.a,null))))),F,W)})),K=(t(68),function(e){e.title,e.description;var a=e.className,t=e.children;return r.a.createElement("div",{className:"main-content"},r.a.createElement(_,null),r.a.createElement("div",{className:a},t))}),U=t(162),V=t(167);function Y(){return r.a.createElement(V.a,{mt:8,mb:4},r.a.createElement(v.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(U.a,{color:"inherit",href:"#"},"Ashraf Kabir")," ",(new Date).getFullYear(),"."))}var q=t(72),Q=t.n(q),X=function(){return r.a.createElement(K,{title:"Error: 404",description:"Page Not Found",className:"container-fluid"},r.a.createElement(v.a,{variant:"h3",gutterBottom:!0},r.a.createElement(Q.a,{style:{fontSize:50,color:"#FF7D00"}})," Sorry, this page does not exist!"),r.a.createElement(Y,null))},Z=t(54),$=t(163),ee=t(164),ae=function(e){var a=e.className,t=e.children,n=r.a.useState(0),l=Object(s.a)(n,2);l[0],l[1];return r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"right-menu"},r.a.createElement("div",{className:"menu-item"},r.a.createElement($.a,null))),r.a.createElement("div",{className:"right-menu"},r.a.createElement("div",{className:"menu-item"},r.a.createElement(ee.a,null))))),r.a.createElement("div",{className:a},t))},te=t(165),ne=function(e){var a=e.item;e.url;return r.a.createElement("div",{className:"product-img"},r.a.createElement("img",{src:a.photo||a.description,alt:a.name,className:"mb-3",style:{objectFit:"contain",height:"100%",width:"100%",display:"flex",marginLeft:"auto",marginRight:"auto"}}))},re=(t(103),t(73),t(74)),le=t.n(re),oe=Object(E.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},productDescription:{height:"100px","word-break":"break-all"},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),ce=function(e){var a=e.product,t=(e.showViewProductButton,e.showAddToCartButton,e.cartUpdate,e.showRemoveProductButton,e.shopItemClicked,e.setRun,e.run,Object(n.useState)(!1)),l=Object(s.a)(t,2),o=l[0],c=(l[1],Object(n.useState)(a.count)),m=Object(s.a)(c,2);m[0],m[1],oe();return r.a.createElement("div",{className:"card-container"},function(e){if(e)return r.a.createElement(i.a,{to:"/cart"})}(o),r.a.createElement(ne,{item:a,url:"product"}),r.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},r.a.createElement("div",{className:"item-name"},a.name),r.a.createElement("div",{className:"insert-link"},r.a.createElement("a",{onClick:function(e){return e.stopPropagation()},href:a.url||a.photo,target:"_blank"},r.a.createElement(le.a,null)))))},ie=(t(75),function(e,a){var t={limit:a,skip:e};return fetch("".concat(u,"/products/by/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}),se=t(76),me=t.n(se),ue=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=(a[0],a[1]),l=Object(n.useState)(12),o=Object(s.a)(l,2),c=o[0],i=(o[1],Object(n.useState)(0)),m=Object(s.a)(i,2),d=m[0],p=m[1],h=Object(n.useState)(0),E=Object(s.a)(h,2),f=E[0],b=E[1],g=Object(n.useState)([]),y=Object(s.a)(g,2),v=y[0],j=y[1],O=function(){var e=d+c;ie(e,c).then((function(a){a.error?t(a.error):(j([].concat(Object(Z.a)(v),Object(Z.a)(a.data))),b(a.size),p(e))}))};Object(n.useEffect)((function(){ie(d,c).then((function(e){e.error?t(e.error):(j(e.data),b(e.size),p(0))}))}),[]);var S=function(e,a){(function(e,a){return fetch("".concat(u,"/share/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({share:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,a).then((function(a){if(!a||a.error)t(a.error);else{var n=v.findIndex((function(a){return a._id===e}));if(n<0)return;v[n].shared=a.shared,j(Object(Z.a)(v))}}))};return r.a.createElement(ae,{title:"Shop page",description:"Search and find books",className:"container-fluid"},r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},v.map((function(e,a){return r.a.createElement("div",{key:a,className:"shop-item "+(e.shared?"selected":""),onClick:function(){return S(e._id,1-e.shared)}},r.a.createElement(ce,{product:e}))}))),f>0&&f>=c&&r.a.createElement(te.a,{onClick:O,variant:"contained",className:"more-btn"},"more ",r.a.createElement(me.a,null))))},de=function(){return r.a.createElement(c.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",component:ue,exact:!0}),r.a.createElement(i.b,{component:X})))};o.a.render(r.a.createElement(de,null),document.getElementById("root"))},68:function(e,a,t){},91:function(e,a,t){e.exports=t(118)}},[[91,1,2]]]);
//# sourceMappingURL=main.fc9d0cdc.chunk.js.map