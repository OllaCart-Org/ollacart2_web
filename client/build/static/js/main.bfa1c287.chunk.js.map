{"version":3,"sources":["config.js","auth/index.js","core/cartHelpers.js","core/Menu.js","core/Layout.js","core/Copyright.js","core/NotFound.js","core/MainLayout.js","core/ShowImage.js","core/Card.js","core/apiCore.js","core/Main.js","Routes.js","index.js"],"names":["API","process","signout","next","window","localStorage","removeItem","fetch","method","then","response","console","log","catch","err","isAuthenticated","getItem","JSON","parse","itemTotal","length","isActive","history","path","location","pathname","color","textDecoration","useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","title","breakpoints","up","display","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","withRouter","classes","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleMobileMenuClose","handleMenuClose","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","renderMobileMenu","style","to","IconButton","aria-label","Badge","badgeContent","user","role","cursor","push","className","AppBar","Toolbar","href","edge","Typography","variant","noWrap","aria-controls","aria-haspopup","event","currentTarget","Layout","description","children","Copyright","Box","mt","mb","align","Link","Date","getFullYear","NotFound","gutterBottom","fontSize","MainLayout","CloudUpload","Person","ShowImage","item","url","src","photo","alt","name","objectFit","icon","heroContent","background","paper","heroButtons","marginTop","cardGrid","paddingTop","paddingBottom","card","flexDirection","cardMedia","cardContent","productDescription","footer","Card","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","shopItemClicked","setRun","run","redirect","count","shouldRedirect","e","stopPropagation","target","getFilteredProducts","skip","limit","data","headers","Accept","body","stringify","json","Main","setError","setSkip","size","setSize","filteredResults","setFilteredResults","loadMore","toSkip","error","useEffect","_id","share","productID","shareProduct","idx","findIndex","itm","shared","map","i","key","Button","Routes","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bfa1c287.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n","import { API } from '../config';\r\n\r\nexport const signup = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`${API}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`${API}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.setItem('jwt', JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('jwt');\r\n    next();\r\n    return fetch(`${API}/signout`, {\r\n      method: 'GET',\r\n    })\r\n      .then((response) => {\r\n        console.log('signout', response);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window === 'undefined') {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem('jwt')) {\r\n    return JSON.parse(localStorage.getItem('jwt'));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","export const addItem = (item = [], count = 0, next = (f) => f) => {\r\n  let cart = [];\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      cart = JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n\r\n    // remove duplicates\r\n    // build an Array from new Set and turn it back into array using Array.from\r\n    // so that later we can re-map it\r\n    // new set will only allow unique values in it\r\n    // so pass the ids of each object/product\r\n    // If the loop tries to add the same value again, it'll get ignored\r\n    // ...with the array of ids we got on when first map() was used\r\n    // run map() on it again and return the actual product from the cart\r\n\r\n    cart = Array.from(new Set(cart.map((p) => p._id))).map((id) => {\r\n      return cart.find((p) => p._id === id);\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const itemTotal = () => {\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      return JSON.parse(localStorage.getItem('cart')).length;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const getCart = () => {\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      return JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const updateItem = (productId, count) => {\r\n  let cart = [];\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      cart = JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart[i].count = count;\r\n      }\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const removeItem = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('cart')) {\r\n      cart = JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const emptyCart = (next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('cart');\r\n    next();\r\n  }\r\n};\r\n","import React, { Fragment } from 'react';\r\nimport { Link, withRouter, forceUpdate } from 'react-router-dom';\r\nimport { signout, isAuthenticated } from '../auth';\r\nimport { itemTotal } from './cartHelpers';\r\n\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport Button from '@material-ui/core/Button';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport StorefrontIcon from '@material-ui/icons/Storefront';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport StoreIcon from '@material-ui/icons/Store';\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: '#ff9900', textDecoration: 'none' };\r\n  } else {\r\n    return { color: '#ffffff', textDecoration: 'none' };\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst MaterialAppBar = ({ history }) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const menuId = 'primary-search-account-menu';\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <div style={{ backgroundColor: '#404040' }}>\r\n        <MenuItem>\r\n          <Link style={isActive(history, '/')} to='/'>\r\n            <IconButton aria-label='Home' color='inherit'>\r\n              <HomeIcon />\r\n            </IconButton>\r\n            Home\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        <MenuItem>\r\n          <Link style={isActive(history, '/shop')} to='/shop'>\r\n            <IconButton aria-label='Shop' color='inherit'>\r\n              <StorefrontIcon />\r\n            </IconButton>\r\n            Shop\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        <MenuItem>\r\n          <Link style={isActive(history, '/cart')} to='/cart'>\r\n            <IconButton aria-label='Cart' color='inherit'>\r\n              <Badge badgeContent={itemTotal()} color='secondary'>\r\n                <ShoppingCartIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            Cart\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n          <MenuItem>\r\n            <Link\r\n              style={isActive(history, '/user/dashboard')}\r\n              to='/user/dashboard'\r\n            >\r\n              <IconButton aria-label='Dashboard' color='inherit'>\r\n                <DashboardIcon />\r\n              </IconButton>\r\n              Dashboard\r\n            </Link>\r\n          </MenuItem>\r\n        )}\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n          <MenuItem>\r\n            <Link\r\n              style={isActive(history, '/admin/dashboard')}\r\n              to='/admin/dashboard'\r\n            >\r\n              <IconButton aria-label='Dashboard' color='inherit'>\r\n                <DashboardIcon />\r\n              </IconButton>\r\n              Dashboard\r\n            </Link>\r\n          </MenuItem>\r\n        )}\r\n\r\n        {!isAuthenticated() && (\r\n          <Fragment>\r\n            <MenuItem>\r\n              <Link style={isActive(history, '/signin')} to='/signin'>\r\n                <IconButton aria-label='Signin' color='inherit'>\r\n                  <AccountCircleIcon />\r\n                </IconButton>\r\n                Signin\r\n              </Link>\r\n            </MenuItem>\r\n\r\n            <MenuItem>\r\n              <Link style={isActive(history, '/signup')} to='/signup'>\r\n                <IconButton aria-label='Signup' color='inherit'>\r\n                  <PersonAddIcon />\r\n                </IconButton>\r\n                Signup\r\n              </Link>\r\n            </MenuItem>\r\n          </Fragment>\r\n        )}\r\n\r\n        {isAuthenticated() && (\r\n          <MenuItem>\r\n            <span\r\n              style={{ cursor: 'pointer', color: '#ffffff' }}\r\n              onClick={() =>\r\n                signout(() => {\r\n                  history.push('/');\r\n                })\r\n              }\r\n            >\r\n              <IconButton aria-label='Signout' color='inherit'>\r\n                <ExitToAppIcon />\r\n              </IconButton>\r\n              Signout\r\n            </span>\r\n          </MenuItem>\r\n        )}\r\n      </div>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position='fixed'>\r\n        <Toolbar>\r\n          <a href='/' style={{ color: '#ffffff' }}>\r\n            <IconButton\r\n              edge='start'\r\n              className={classes.menuButton}\r\n              color='inherit'\r\n              aria-label='brand'\r\n            >\r\n              <StoreIcon />\r\n            </IconButton>\r\n          </a>\r\n          <a href='/' style={{ color: '#ffffff', textDecoration: 'none' }}>\r\n            <Typography className={classes.title} variant='h6' noWrap>\r\n              OLLACART\r\n            </Typography>\r\n          </a>\r\n\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <Link style={isActive(history, '/')} to='/'>\r\n              <IconButton aria-label='Home' color='inherit'>\r\n                <HomeIcon />\r\n                <Typography noWrap>Home</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            <Link style={isActive(history, '/shop')} to='/shop'>\r\n              <IconButton aria-label='Shop' color='inherit'>\r\n                <StorefrontIcon />\r\n                <Typography noWrap>Shop</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            <Link style={isActive(history, '/cart')} to='/cart'>\r\n              <IconButton aria-label='Cart' color='inherit'>\r\n                <Badge badgeContent={itemTotal()} color='secondary'>\r\n                  <ShoppingCartIcon />\r\n                </Badge>\r\n                <Typography noWrap>Cart</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n              <Link\r\n                style={isActive(history, '/user/dashboard')}\r\n                to='/user/dashboard'\r\n              >\r\n                <IconButton aria-label='Dashboard' color='inherit'>\r\n                  <DashboardIcon />\r\n                  <Typography noWrap>Dashboard</Typography>\r\n                </IconButton>\r\n              </Link>\r\n            )}\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n              <Link\r\n                style={isActive(history, '/admin/dashboard')}\r\n                to='/admin/dashboard'\r\n              >\r\n                <IconButton aria-label='Dashboard' color='inherit'>\r\n                  <DashboardIcon />\r\n                  <Typography noWrap>Dashboard</Typography>\r\n                </IconButton>\r\n              </Link>\r\n            )}\r\n\r\n            {!isAuthenticated() && (\r\n              <Fragment>\r\n                <Link style={isActive(history, '/signin')} to='/signin'>\r\n                  <IconButton aria-label='Signin' color='inherit'>\r\n                    <AccountCircleIcon />\r\n                    <Typography noWrap>Signin</Typography>\r\n                  </IconButton>\r\n                </Link>\r\n\r\n                <Link style={isActive(history, '/signup')} to='/signup'>\r\n                  <IconButton aria-label='Signup' color='inherit'>\r\n                    <PersonAddIcon />\r\n                    <Typography noWrap>Signup</Typography>\r\n                  </IconButton>\r\n                </Link>\r\n              </Fragment>\r\n            )}\r\n\r\n            {isAuthenticated() && (\r\n              <span\r\n                style={{ cursor: 'pointer', color: '#ffffff' }}\r\n                onClick={() =>\r\n                  signout(() => {\r\n                    history.push('/');\r\n                  })\r\n                }\r\n              >\r\n                <IconButton aria-label='Signout' color='inherit'>\r\n                  <ExitToAppIcon />\r\n                  <Typography noWrap>Signout</Typography>\r\n                </IconButton>\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label='show more'\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup='true'\r\n              onClick={handleMobileMenuOpen}\r\n              color='inherit'\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(MaterialAppBar);\r\n","import React from 'react';\r\nimport Menu from './Menu';\r\nimport '../styles.css';\r\n\r\nconst Layout = ({\r\n  title = 'Title',\r\n  description = 'Description',\r\n  className,\r\n  children,\r\n}) => (\r\n  <div className='main-content'>\r\n    <Menu />\r\n    {/* <div className='jumbotron mt-5'>\r\n      <h2>{title}</h2>\r\n      <p className='lead'>{description}</p>\r\n    </div> */}\r\n    <div className={className}>{children}</div>\r\n  </div>\r\n);\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport default function Copyright() {\r\n  return (\r\n    <Box mt={8} mb={4}>\r\n      <Typography variant='body2' color='textSecondary' align='center'>\r\n        {'Copyright © '}\r\n        <Link color='inherit' href='#'>\r\n          Ashraf Kabir\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport Layout from './Layout';\r\nimport Copyright from './Copyright';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Layout\r\n      title='Error: 404'\r\n      description='Page Not Found'\r\n      className='container-fluid'\r\n    >\r\n      <Typography variant='h3' gutterBottom>\r\n        <WarningIcon style={{ fontSize: 50, color: '#FF7D00' }} /> Sorry, this page does not\r\n        exist!\r\n      </Typography>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { Group, Person, CloudUpload, ShoppingCart, Settings, LocalShipping, AddToHomeScreen, Share } from '@material-ui/icons';\r\nimport Menu from './Menu';\r\n\r\nimport '../styles.css';\r\n\r\nconst MainLayout = ({\r\n  className,\r\n  children,\r\n}) => {\r\n  const [groupMode, setGrupMode] = React.useState(0)\r\n  return (\r\n    <div className='main-content'>\r\n      <div className='menu'>\r\n        <div className='d-flex justify-content-between'>\r\n          {/* <div className='left-menu'>\r\n            <div className='left-menu-content'>\r\n              <div className={ groupMode ? '' : 'selected' } onClick={() => setGrupMode(0)}>\r\n                <Group />\r\n              </div>\r\n              <div className={ groupMode ? 'selected' : '' } onClick={() => setGrupMode(1)}>\r\n                <Person />\r\n              </div>\r\n            </div>\r\n          </div> */}\r\n          <div className='right-menu'>\r\n            <div className='menu-item'>\r\n              <CloudUpload />\r\n            </div>\r\n          </div>\r\n          <div className='right-menu'>\r\n            <div className='menu-item'>\r\n              <Person />\r\n            </div>\r\n            {/* <div className={'menu-item ' + (cartSelected ? 'selected' : '' )} onClick={cartToggle}>\r\n              <ShoppingCart />\r\n            </div>\r\n            <div className='menu-item'>\r\n              <Share />\r\n            </div>\r\n            <div className='menu-item'>\r\n              <Settings />\r\n            </div>\r\n            <div className='menu-item'>\r\n              <LocalShipping />\r\n            </div> */}\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"d-flex justify-content-end sub-menu\">\r\n          <span class=\"total-price\">$ {price}</span>\r\n          <div className='checkout-btn'>\r\n            <AddToHomeScreen />\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MainLayout;\r\n","import React from 'react';\r\nimport { API } from '../config';\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n  <div className='product-img' >\r\n    <img\r\n      // src={`${API}/${url}/photo/${item._id}`}\r\n      src={item.photo || item.description}\r\n      alt={item.name}\r\n      className='mb-3'\r\n      style={{ objectFit: 'contain', height: '100%', width: '100%', display: 'flex', marginLeft: 'auto', marginRight: 'auto' }}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ShowImage from './ShowImage';\r\nimport moment from 'moment';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport CardM from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Link from '@material-ui/core/Link';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport InsertLinkIcon from '@material-ui/icons/InsertLink'\r\nimport { AddShoppingCart } from '@material-ui/icons';\r\n\r\nimport { addItem, updateItem, removeItem } from './cartHelpers';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6),\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  productDescription: {\r\n    height: '100px',\r\n    'word-break': 'break-all'\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6),\r\n  },\r\n}));\r\n\r\nconst Card = ({\r\n  product,\r\n  showViewProductButton = true,\r\n  showAddToCartButton = true,\r\n  cartUpdate = false,\r\n  showRemoveProductButton = false,\r\n  shopItemClicked,\r\n  setRun = (f) => f, // default value of function\r\n  run = undefined, // default value of undefined\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const showViewButton = (showViewProductButton) => {\r\n    return (\r\n      showViewProductButton && (\r\n        <Link href={`/product/${product._id}`} className='mr-2'>\r\n          <Button variant='contained' color='primary'>\r\n            View Product\r\n          </Button>\r\n        </Link>\r\n      )\r\n    );\r\n  };\r\n\r\n  const addToCart = () => {\r\n    // console.log('added');\r\n    addItem(product, setRedirect(true));\r\n  };\r\n\r\n  const shouldRedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to='/cart' />;\r\n    }\r\n  };\r\n\r\n  const showAddToCartBtn = (showAddToCartButton) => {\r\n    return (\r\n      showAddToCartButton && (\r\n        <Button onClick={addToCart} variant='outlined' color='secondary'>\r\n          Add to cart\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showStock = (quantity) => {\r\n    return quantity > 0 ? (\r\n      <span className='badge badge-primary badge-pill'>In Stock </span>\r\n    ) : (\r\n      <span className='badge badge-primary badge-pill'>Out of Stock </span>\r\n    );\r\n  };\r\n\r\n  const handleChange = (productId) => (event) => {\r\n    setRun(!run); // run useEffect in parent Cart\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(productId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = (cartUpdate) => {\r\n    return (\r\n      cartUpdate && (\r\n        <div className='mt-2'>\r\n          <div className='input-group mb-3'>\r\n            <div className='input-group-prepend'>\r\n              <span className='input-group-text'>Adjust Quantity</span>\r\n            </div>\r\n            <input\r\n              type='number'\r\n              className='form-control'\r\n              value={count}\r\n              onChange={handleChange(product._id)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveButton = (showRemoveProductButton) => {\r\n    return (\r\n      showRemoveProductButton && (\r\n        <Button\r\n          onClick={() => {\r\n            removeItem(product._id);\r\n            setRun(!run); // run useEffect in parent Cart\r\n          }}\r\n          variant='contained'\r\n          color='secondary'\r\n          className={classes.button}\r\n          startIcon={<DeleteIcon />}\r\n        >\r\n          Remove Product\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className=\"card-container\">\r\n      {shouldRedirect(redirect)}\r\n      <ShowImage item={product} url='product' />\r\n      <div className='d-flex justify-content-end align-items-center'>\r\n        <div className='item-name'>{product.name}</div>\r\n        <div className='insert-link'><a onClick={e=>e.stopPropagation()} href={product.url || product.photo} target=\"_blank\"><InsertLinkIcon /></a></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import { API } from '../config';\r\nimport queryString from 'query-string';\r\n\r\nexport const getProducts = (sortBy) => {\r\n  return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n  const data = {\r\n    limit,\r\n    skip,\r\n  };\r\n  return fetch(`${API}/products/by/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const list = (params) => {\r\n  const query = queryString.stringify(params);\r\n  console.log('query', query);\r\n  return fetch(`${API}/products/search?${query}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const read = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelated = (productId) => {\r\n  return fetch(`${API}/products/related/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n  return fetch(`${API}/braintree/getToken/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n  return fetch(`${API}/braintree/payment/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentData),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: createOrderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n\r\nexport const shareProduct = (productID, share) => {\r\n  return fetch(`${API}/share/${productID}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ share }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './MainLayout';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from './Card';\r\nimport { getFilteredProducts, shareProduct } from './apiCore';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst Main = () => {\r\n  const [error, setError] = useState(false);\r\n  const [limit, setLimit] = useState(12);\r\n  const [skip, setSkip] = useState(0);\r\n  const [size, setSize] = useState(0);\r\n  const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n  const loadFilteredResults = () => {\r\n    // console.log(newFilters);\r\n    getFilteredProducts(skip, limit).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResults(data.data);\r\n        setSize(data.size);\r\n        setSkip(0);\r\n      }\r\n    });\r\n  };\r\n  const loadMore = () => {\r\n    let toSkip = skip + limit;\r\n    // console.log(newFilters);\r\n    getFilteredProducts(toSkip, limit).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResults([...filteredResults, ...data.data]);\r\n        setSize(data.size);\r\n        setSkip(toSkip);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMoreButton = () => {\r\n    return (\r\n      size > 0 &&\r\n      size >= limit && (\r\n        <Button onClick={loadMore} variant='contained' className='more-btn'>\r\n          more <AddIcon />\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    loadFilteredResults(skip, limit);\r\n  }, []);\r\n\r\n  const shopItemClicked = (_id, share) => {\r\n    shareProduct(_id, share).then((data) => {\r\n      if (!data || data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        const idx = filteredResults.findIndex(itm => itm._id === _id)\r\n        if (idx < 0) return\r\n        filteredResults[idx].shared = data.shared;\r\n        setFilteredResults([...filteredResults]);\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Layout\r\n      title='Shop page'\r\n      description='Search and find books'\r\n      className='container-fluid'\r\n    >\r\n      <div>\r\n        <div className='d-flex flex-wrap justify-content-between'>\r\n          {filteredResults.map((product, i) => (\r\n            <div key={i} className={'shop-item ' + (product.shared ? 'selected' : '' )} onClick={() => shopItemClicked(product._id, 1 - product.shared)}>\r\n              <Card product={product}/>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {loadMoreButton()}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n  ","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport NotFound from './core/NotFound';\r\nimport Main from './core/Main';\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path='/' component={Main} exact />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routes from './Routes';\r\n\r\nReactDOM.render(<Routes />, document.getElementById('root'));\r\n"],"sourceRoot":""}